<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>客观评价慈禧太后：权力、变革与困局</title>
    
    <!-- External Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&family=Noto+Sans+SC:wght@300;400;500&display=swap" rel="stylesheet">

    <!-- Configuration & Styling -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'imperial-gold': '#C5A059',
                        'qing-blue': '#2C4C63',
                        'paper-bg': '#F9F7F2',
                        'ink-black': '#2A2A2A',
                        'vermilion': '#A63429'
                    },
                    fontFamily: {
                        serif: ['"Noto Serif SC"', 'serif'],
                        sans: ['"Noto Sans SC"', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #F9F7F2;
            color: #2A2A2A;
        }
        
        /* Chart Container Styling - Mandatory Requirements */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
        
        @media (max-width: 640px) {
            .chart-container {
                height: 300px;
            }
        }

        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        /* Custom Scrollbar for inner content */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        ::-webkit-scrollbar-thumb {
            background: #C5A059; 
            border-radius: 3px;
        }
    </style>

    <!-- Required Placeholder Comments -->
    <!-- Chosen Palette: Imperial Twilight (Warm Neutrals, Muted Gold, Qing Blue, Vermilion) -->
    <!-- Application Structure Plan: The layout is designed as a "Historical Dashboard" rather than a linear article. 
         1. Header: Sets the tone.
         2. "Political Lifecycle" (Timeline): Interactive exploration of her 47-year rule, segmenting complex history into digestible eras.
         3. "The Modernization Balance Sheet" (Bar Chart): Quantitative view of the Self-Strengthening Movement to counter the "purely reactionary" narrative.
         4. "The Financial Controversy" (Donut Chart): Interactive analysis of the Summer Palace vs. Navy funding debate.
         5. "The Evaluation Matrix" (Radar Chart): The core synthesis tool, allowing users to compare Traditional (negative) vs. Revisionist (nuanced) historical perspectives across multiple dimensions.
         This structure encourages users to reconstruct an objective view by exploring data points rather than reading a static biography. -->
    <!-- Visualization & Content Choices: 
         - Timeline: Text + Interaction. Goal: Change/Context. Allows users to see the evolution of policy.
         - Bar Chart (Modernization): Chart.js. Goal: Inform/Quantify. Visualizes the tangible output of her "Self-Strengthening" era.
         - Donut Chart (Finance): Chart.js. Goal: Contextualize. breaks down the specific numbers regarding the naval fund misappropriation myth/reality.
         - Radar Chart (Evaluation): Chart.js. Goal: Compare/Synthesize. The best tool to show multi-dimensional personality traits and shifting historical consensus.
         - Justification: These visuals move beyond the "villain/hero" binary to show specific metrics of governance. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

</head>
<body class="font-sans antialiased selection:bg-imperial-gold selection:text-white">

    <!-- Main Wrapper -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-12">

        <!-- Header Section -->
        <header class="text-center space-y-4 border-b-2 border-imperial-gold pb-8">
            <h1 class="text-4xl md:text-5xl font-serif font-bold text-ink-black tracking-wide">
                客观评价慈禧太后
            </h1>
            <p class="text-lg md:text-xl text-gray-600 font-serif italic">
                晚清权力的最后守护者：是误国妖后，还是务实政治家？
            </p>
            <p class="max-w-3xl mx-auto text-sm text-gray-500 leading-relaxed">
                本交互式报告旨在通过数据、历史节点与多维分析，还原一个复杂的历史人物。请探索下方模块，从不同维度审视慈禧太后长达47年的实际统治。
            </p>
        </header>

        <!-- Module 1: The Timeline of Power (Interaction: Tab/List Selection) -->
        <section class="grid grid-cols-1 lg:grid-cols-12 gap-8 bg-white p-6 rounded-lg shadow-sm border border-stone-200">
            <div class="lg:col-span-12 mb-4">
                <h2 class="text-2xl font-serif font-bold text-qing-blue mb-2">⚖️ 权力的轨迹：统治分期</h2>
                <p class="text-gray-600 mb-4">
                    慈禧的统治并非一成不变。通过点击下方的时间轴节点，了解她在不同危机时刻的政治抉择与历史定位。
                </p>
            </div>
            
            <!-- Navigation List -->
            <div class="lg:col-span-4 space-y-2" id="timeline-nav">
                <!-- JS will populate this -->
            </div>

            <!-- Content Display -->
            <div class="lg:col-span-8 bg-paper-bg p-6 rounded border-l-4 border-imperial-gold relative min-h-[300px] flex flex-col justify-center">
                <div id="timeline-content" class="transition-opacity duration-300">
                    <!-- JS will populate this -->
                </div>
            </div>
        </section>

        <!-- Module 2: The Modernization Balance Sheet (Chart: Bar) -->
        <section>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <div class="space-y-4 order-2 md:order-1">
                    <h2 class="text-2xl font-serif font-bold text-qing-blue">🏭 洋务与新政：现代化的推手？</h2>
                    <p class="text-gray-700 leading-relaxed">
                        传统观点认为慈禧顽固守旧。然而数据表明，她是晚清“同治中兴”及“洋务运动”的最高批准者。在她支持下，中国建立了第一批现代工业、海军与学堂。
                    </p>
                    <div class="bg-white p-4 rounded shadow-sm border-l-4 border-qing-blue">
                        <h3 class="font-bold text-lg mb-2">关键数据洞察</h3>
                        <p class="text-sm text-gray-600">
                            点击图表图例可筛选显示不同领域的建设成果。可以看到，在军事工业（军工局）和基础设施（铁路/电报）方面，晚清政府在其支持下有实质性投入。
                        </p>
                    </div>
                </div>
                
                <div class="bg-white p-4 rounded-lg shadow-md order-1 md:order-2">
                    <div class="chart-container">
                        <canvas id="modernizationChart"></canvas>
                    </div>
                    <p class="text-center text-xs text-gray-500 mt-2">数据来源：综合晚清洋务运动统计资料</p>
                </div>
            </div>
        </section>

        <!-- Module 3: The Evaluation Matrix (Chart: Radar) -->
        <section class="bg-stone-100 p-8 rounded-xl">
            <div class="text-center mb-8">
                <h2 class="text-2xl font-serif font-bold text-qing-blue">📊 历史的天平：多维能力评估</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">
                    评价历史人物往往受限于时代视角。下方的雷达图展示了不同历史学派对慈禧能力的评价差异。
                    <br><span class="text-sm font-bold text-vermilion">交互提示：点击下方按钮切换评价视角。</span>
                </p>
                <div class="flex justify-center gap-4 mt-4">
                    <button onclick="updateRadar('traditional')" class="px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded text-sm font-medium transition view-btn active-view" data-view="traditional">传统贬抑视角</button>
                    <button onclick="updateRadar('revisionist')" class="px-4 py-2 bg-white hover:bg-imperial-gold hover:text-white border border-gray-300 rounded text-sm font-medium transition view-btn" data-view="revisionist">现代修正视角</button>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                <div class="chart-container mx-auto">
                    <canvas id="evaluationChart"></canvas>
                </div>
                
                <div class="space-y-6">
                    <div id="perspective-text" class="bg-white p-6 rounded-lg shadow-sm">
                        <!-- Dynamic Text -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Module 4: The Financial Controversy (Chart: Doughnut) -->
        <section class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="md:col-span-3">
                <h2 class="text-2xl font-serif font-bold text-qing-blue mb-2">💰 颐和园与北洋海军：挪用军费之谜</h2>
                <p class="text-gray-600">“挪用海军军费修颐和园导致甲午战败”是慈禧最大的历史罪状之一。让我们通过数据透视其中的比例关系。</p>
            </div>

            <div class="md:col-span-1 bg-white p-6 rounded-lg shadow-sm border-t-4 border-vermilion">
                <div class="chart-container" style="height: 250px;">
                    <canvas id="budgetChart"></canvas>
                </div>
            </div>

            <div class="md:col-span-2 flex flex-col justify-center space-y-4">
                <div class="bg-white p-4 rounded shadow-sm">
                    <h3 class="font-bold text-lg text-ink-black">🔍 事实核查</h3>
                    <ul class="list-disc list-inside text-sm text-gray-700 space-y-2 mt-2">
                        <li><strong>挪用金额：</strong> 近年考证约为600-800万两白银，而非传闻的3000万两。</li>
                        <li><strong>资金性质：</strong> 大部分来自“海军巨款”（名义上为海军存款，实为各省筹集的修园专款）及利息。</li>
                        <li><strong>战败主因：</strong> 更多在于制度腐败、指挥不当及战略失误，而非单纯的资金短缺。</li>
                    </ul>
                </div>
                <div class="bg-paper-bg p-4 rounded border border-stone-200">
                    <p class="text-sm text-gray-600 italic">
                        “慈禧的罪过不在于她是一个女人，而在于她把家天下的利益置于国家利益之上，但这在当时的体制下几乎是必然的选择。”
                    </p>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="text-center text-gray-500 text-sm py-8 border-t border-gray-200">
            <p>基于晚清史料、各类学术研究及现代历史评价模型构建。</p>
        </footer>

    </div>

    <!-- Script Logic -->
    <script>
        // --- Data Definitions ---

        const timelineData = [
            {
                id: 1,
                period: "1861-1875: 垂帘听政与同治中兴",
                title: "辛酉政变与权力的稳固",
                content: "慈禧通过辛酉政变掌握实权。这一时期，她重用汉臣曾国藩、李鸿章等人，镇压太平天国，开启洋务运动。这是晚清最后的回光返照时期，被称为'同治中兴'。她表现出高超的政治平衡术，在满汉大臣之间维持微妙的平衡。",
                highlight: "关键成就：平定内乱，开启洋务。"
            },
            {
                id: 2,
                period: "1875-1898: 光绪亲政与甲午战败",
                title: "太后与皇帝的二元政治",
                content: "光绪帝名义上亲政，实权仍握于慈禧手中。甲午战争的惨败彻底暴露了洋务运动'中学为体，西学为用'的局限性。慈禧在主战与主和之间摇摆，最终不仅丢失领土，更耗尽了财政储备。修建颐和园在此时成为巨大的政治污点。",
                highlight: "关键转折：甲午战败，民族危机加深。"
            },
            {
                id: 3,
                period: "1898: 戊戌变法与政变",
                title: "维新与守旧的决战",
                content: "面对激进的维新变法，慈禧选择发动政变，囚禁光绪，斩杀六君子。她并非完全反对改革（后续她自己也推行新政），但她无法容忍改革危及满洲贵族的根本利益及她个人的最高权力。",
                highlight: "政治底线：权力安全高于国家改革。"
            },
            {
                id: 4,
                period: "1900-1908: 庚子国变与清末新政",
                title: "从宣战万国到预备立宪",
                content: "利用义和团排外导致八国联军侵华，慈禧携光绪西逃。回銮后，为挽救统治，她开启了比戊戌变法更为彻底的'清末新政'，包括废科举、编练新军、预备立宪。然而，这一切来得太晚，改革反而加速了清朝的灭亡。",
                highlight: "最终评价：迟到的觉醒与帝国的终结。"
            }
        ];

        const radarData = {
            traditional: {
                label: '传统贬抑视角 (妖后论)',
                data: [20, 90, 30, 10, 10], // Reforms, Power Struggle, Diplomacy, Ethics, Legacy
                desc: "<strong>传统观点：</strong> 侧重于道德批判。认为慈禧贪婪权势、生活奢靡、卖国求荣。将清朝灭亡的责任完全归咎于她个人的短视与自私，忽视了历史大环境的制约。"
            },
            revisionist: {
                label: '现代修正视角 (政治家论)',
                data: [65, 95, 50, 40, 50],
                desc: "<strong>修正观点：</strong> 侧重于政治实绩。承认她在男权社会中维持政权稳定的高超手腕。指出她并非完全反动，而是“务实的保守主义者”，在不触动根本权力的前提下推动了中国早期的现代化进程。"
            }
        };

        // --- Initialization ---

        document.addEventListener('DOMContentLoaded', () => {
            initTimeline();
            initModernizationChart();
            initEvaluationChart();
            initBudgetChart();
        });

        // --- Logic: Timeline ---

        let activeTimelineIndex = 0;

        function initTimeline() {
            const navContainer = document.getElementById('timeline-nav');
            const contentContainer = document.getElementById('timeline-content');

            // Build Nav
            navContainer.innerHTML = timelineData.map((item, index) => `
                <button 
                    onclick="setTimeline(${index})"
                    class="w-full text-left px-4 py-3 rounded border-l-4 transition-all duration-200 ${index === activeTimelineIndex ? 'bg-imperial-gold/10 border-imperial-gold text-ink-black font-bold shadow-sm' : 'bg-transparent border-gray-200 text-gray-500 hover:bg-gray-50'}"
                >
                    <div class="text-xs uppercase tracking-wider mb-1 opacity-70">${item.period.split(':')[0]}</div>
                    <div class="text-sm">${item.period.split(':')[1]}</div>
                </button>
            `).join('');

            updateTimelineContent(activeTimelineIndex);
        }

        function setTimeline(index) {
            activeTimelineIndex = index;
            initTimeline(); // Re-render nav for styling
            
            const contentDiv = document.getElementById('timeline-content');
            contentDiv.style.opacity = '0';
            
            setTimeout(() => {
                updateTimelineContent(index);
                contentDiv.style.opacity = '1';
            }, 300);
        }

        function updateTimelineContent(index) {
            const item = timelineData[index];
            const contentDiv = document.getElementById('timeline-content');
            contentDiv.innerHTML = `
                <h3 class="text-2xl font-serif font-bold text-imperial-gold mb-3">${item.title}</h3>
                <p class="text-gray-700 leading-7 mb-6 text-justify">${item.content}</p>
                <div class="inline-block bg-qing-blue text-white px-3 py-1 rounded text-sm shadow-sm">
                    ${item.highlight}
                </div>
            `;
        }

        // --- Logic: Modernization Chart (Bar) ---

        function initModernizationChart() {
            const ctx = document.getElementById('modernizationChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['军事工业 (局/厂)', '民用企业', '新式学堂', '铁路 (百公里)'],
                    datasets: [{
                        label: '洋务运动至新政时期主要成果估算',
                        data: [24, 40, 60, 50], // Approximate representative values for visualization
                        backgroundColor: [
                            'rgba(197, 160, 89, 0.7)',
                            'rgba(44, 76, 99, 0.7)',
                            'rgba(166, 52, 41, 0.7)',
                            'rgba(100, 100, 100, 0.7)'
                        ],
                        borderColor: [
                            '#C5A059',
                            '#2C4C63',
                            '#A63429',
                            '#666666'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.raw + ' (相对规模指数)';
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: { display: false }
                        },
                        x: {
                            grid: { display: false }
                        }
                    }
                }
            });
        }

        // --- Logic: Evaluation Radar Chart ---

        let radarChartInstance = null;

        function initEvaluationChart() {
            const ctx = document.getElementById('evaluationChart').getContext('2d');
            const initialView = 'traditional';

            radarChartInstance = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: [
                        '现代化改革意愿', 
                        '权力斗争/政治权谋', 
                        '外交能力', 
                        '个人道德操守', 
                        '正面历史遗产'
                    ],
                    datasets: [{
                        label: radarData[initialView].label,
                        data: radarData[initialView].data,
                        fill: true,
                        backgroundColor: 'rgba(166, 52, 41, 0.2)',
                        borderColor: '#A63429',
                        pointBackgroundColor: '#A63429',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#A63429'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: { color: '#e5e7eb' },
                            grid: { color: '#e5e7eb' },
                            pointLabels: {
                                font: { size: 12, family: "'Noto Sans SC', sans-serif" },
                                color: '#4b5563'
                            },
                            suggestedMin: 0,
                            suggestedMax: 100
                        }
                    }
                }
            });
            
            // Set initial text
            document.getElementById('perspective-text').innerHTML = radarData[initialView].desc;
        }

        function updateRadar(viewType) {
            // Update Data
            radarChartInstance.data.datasets[0].data = radarData[viewType].data;
            radarChartInstance.data.datasets[0].label = radarData[viewType].label;
            
            // Update Colors based on type
            if(viewType === 'revisionist') {
                radarChartInstance.data.datasets[0].backgroundColor = 'rgba(44, 76, 99, 0.2)';
                radarChartInstance.data.datasets[0].borderColor = '#2C4C63';
                radarChartInstance.data.datasets[0].pointBackgroundColor = '#2C4C63';
            } else {
                radarChartInstance.data.datasets[0].backgroundColor = 'rgba(166, 52, 41, 0.2)';
                radarChartInstance.data.datasets[0].borderColor = '#A63429';
                radarChartInstance.data.datasets[0].pointBackgroundColor = '#A63429';
            }
            
            radarChartInstance.update();

            // Update Text
            const textBox = document.getElementById('perspective-text');
            textBox.style.opacity = 0;
            setTimeout(() => {
                textBox.innerHTML = radarData[viewType].desc;
                textBox.style.opacity = 1;
            }, 200);

            // Update Buttons
            document.querySelectorAll('.view-btn').forEach(btn => {
                if(btn.dataset.view === viewType) {
                    btn.classList.add('bg-gray-200', 'active-view');
                    btn.classList.remove('bg-white');
                } else {
                    btn.classList.remove('bg-gray-200', 'active-view');
                    btn.classList.add('bg-white');
                }
            });
        }

        // --- Logic: Budget Chart (Doughnut) ---

        function initBudgetChart() {
            const ctx = document.getElementById('budgetChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['修园实际花费 (约600万两)', '北洋舰队成军总费 (约2000万两)', '甲午赔款 (2.3亿两)'],
                    datasets: [{
                        data: [6, 20, 230],
                        backgroundColor: [
                            '#A63429', // Red for controversy
                            '#2C4C63', // Blue for Navy
                            '#57534e'  // Grey for huge loss
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom', labels: { boxWidth: 12, font: { size: 10 } } },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.label; 
                                }
                            }
                        }
                    }
                }
            });
        }

    </script>
</body>
</html>
