<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å†å²è½¬æŠ˜ï¼š1971å¹´ä¸­å›½é‡è¿”è”åˆå›½çš„å°å‰å¹•å</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Google Fonts (Noto Sans SC for Chinese support) -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background-color: #FDFBF7; /* Warm historical paper tone */
            color: #333;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        /* Chart Container Styling - Mandatory per instructions */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 100%;
            height: 350px;
            max-height: 400px;
            margin-left: auto;
            margin-right: auto;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }

        /* Utility for transitions */
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card-shadow {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .card-shadow:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        .active-tab {
            border-bottom: 2px solid #C8102E;
            color: #C8102E;
            font-weight: 700;
        }
        
        .timeline-dot {
            transition: all 0.3s ease;
        }
        .timeline-dot.active {
            background-color: #C8102E;
            transform: scale(1.2);
            border-color: #fff;
        }
    </style>
    
    <!-- Chosen Palette: "Historical Diplomacy"
         Background: #FDFBF7 (Warm Paper)
         Primary Red: #C8102E (China/Victory)
         Secondary Blue: #2C3E50 (Opposition/US)
         Neutral Gold: #D4AF37 (Abstention/Third World)
         Text: #1F2937 (Dark Gray)
    -->

    <!-- Application Structure Plan:
         1. Header: Dramatic title and immediate context setting regarding Resolution 2758.
         2. Narrative Timeline (Interactive): Users click through decades (50s, 60s, 70, 71) to see the shifting tides of support. Visualization: Line Chart updating with timeline selection.
         3. The 1971 Showdown (Dashboard): A detailed breakdown of the decisive vote.
            - Donut Chart: The final 76-35-17 tally.
            - Bar Chart: Regional breakdown showing the crucial support from Africa.
         4. Global Stance Explorer (Filterable Grid): A "Who Voted How" section allowing users to filter countries by their vote, highlighting the geopolitical divide.
         5. Strategy Contrast (Comparison): "Important Question" vs "Albanian Resolution". 
    -->

    <!-- Visualization & Content Choices:
         - Line Chart: To show the "Scissors Cross" trend where PRC support overtook ROC support. Goal: Change/Trend.
         - Doughnut Chart: To visualize the overwhelming majority vs minority in 1971. Goal: Proportion.
         - Stacked Bar: To show voting blocs by continent (Africa, Europe, etc.). Goal: Comparison.
         - Interactive List: To allow users to search/filter specific countries (e.g., seeing UK/France voting Yes vs US voting No). Goal: Detail/Explore.
         - NO SVG/Mermaid: All icons are unicode or CSS shapes. Charts are Chart.js.
    -->
    
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="antialiased text-gray-800">

    <!-- Navigation / Header -->
    <header class="bg-white border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <span class="text-2xl font-bold text-red-700 tracking-wider">1971Â·è”åˆå›½</span>
                    <span class="ml-4 text-sm text-gray-500 hidden sm:block">ä¸­å›½é‡è¿”è”åˆå›½å¸­ä½çš„å†å²æ—¶åˆ»</span>
                </div>
                <nav class="flex space-x-4">
                    <button onclick="scrollToSection('timeline')" class="text-gray-600 hover:text-red-700 font-medium text-sm">å†å²è¿›ç¨‹</button>
                    <button onclick="scrollToSection('showdown')" class="text-gray-600 hover:text-red-700 font-medium text-sm">å†³æˆ˜æ—¶åˆ»</button>
                    <button onclick="scrollToSection('stances')" class="text-gray-600 hover:text-red-700 font-medium text-sm">å„å›½ç«™é˜Ÿ</button>
                </nav>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <div class="bg-[#FDFBF7] py-12 border-b border-gray-200">
        <div class="max-w-4xl mx-auto px-4 text-center">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6">ç¬¬2758å·å†³è®®ï¼šå¤–äº¤é£äº‘</h1>
            <p class="text-xl text-gray-600 leading-relaxed mb-8">
                1971å¹´10æœˆ25æ—¥ï¼Œç¬¬26å±Šè”åˆå›½å¤§ä¼šä»¥å‹å€’æ€§å¤šæ•°é€šè¿‡äº†ç¬¬2758å·å†³è®®ï¼Œæ¢å¤äº†ä¸­åäººæ°‘å…±å’Œå›½åœ¨è”åˆå›½çš„åˆæ³•å¸­ä½ã€‚è¿™æ˜¯ä¸€åœºæŒç»­äº†20å¤šå¹´çš„å¤–äº¤è§’é€ï¼Œæ˜¯ç¬¬ä¸‰ä¸–ç•Œå›½å®¶çš„èƒœåˆ©ï¼Œä¹Ÿæ˜¯å›½é™…æ ¼å±€å˜è¿çš„ç¼©å½±ã€‚
            </p>
            <div class="flex justify-center space-x-8 text-center">
                <div class="p-4 bg-white rounded-lg shadow-sm w-32">
                    <div class="text-3xl font-bold text-green-600">76ç¥¨</div>
                    <div class="text-xs text-gray-500 mt-1 uppercase">èµæˆ</div>
                </div>
                <div class="p-4 bg-white rounded-lg shadow-sm w-32">
                    <div class="text-3xl font-bold text-red-600">35ç¥¨</div>
                    <div class="text-xs text-gray-500 mt-1 uppercase">åå¯¹</div>
                </div>
                <div class="p-4 bg-white rounded-lg shadow-sm w-32">
                    <div class="text-3xl font-bold text-yellow-600">17ç¥¨</div>
                    <div class="text-xs text-gray-500 mt-1 uppercase">å¼ƒæƒ</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Section 1: The Timeline of Struggle (Interactive) -->
    <section id="timeline" class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900">æ¼«é•¿çš„è§’é€ (1950-1971)</h2>
                <p class="mt-4 text-lg text-gray-500 max-w-3xl mx-auto">
                    ä»50å¹´ä»£ç¾å›½çš„å…¨é¢å°é”ï¼Œåˆ°60å¹´ä»£çš„è‰°éš¾çªå›´ï¼Œå†åˆ°70å¹´ä»£åˆçš„åŠ¿å¦‚ç ´ç«¹ã€‚ç‚¹å‡»ä¸‹æ–¹æ—¶é—´èŠ‚ç‚¹ï¼Œå›é¡¾è¿™ä¸€å†å²è¶‹åŠ¿ã€‚
                </p>
            </div>

            <!-- Timeline Controls -->
            <div class="flex justify-between items-center max-w-3xl mx-auto mb-10 relative">
                <div class="absolute top-1/2 left-0 w-full h-1 bg-gray-200 -z-10 transform -translate-y-1/2"></div>
                <button onclick="updateTimeline(0)" class="timeline-dot w-12 h-12 rounded-full bg-white border-4 border-gray-300 flex items-center justify-center font-bold text-gray-600 hover:border-red-500 focus:outline-none z-10 active" id="btn-1950">50s</button>
                <button onclick="updateTimeline(1)" class="timeline-dot w-12 h-12 rounded-full bg-white border-4 border-gray-300 flex items-center justify-center font-bold text-gray-600 hover:border-red-500 focus:outline-none z-10" id="btn-1960">60s</button>
                <button onclick="updateTimeline(2)" class="timeline-dot w-12 h-12 rounded-full bg-white border-4 border-gray-300 flex items-center justify-center font-bold text-gray-600 hover:border-red-500 focus:outline-none z-10" id="btn-1970">1970</button>
                <button onclick="updateTimeline(3)" class="timeline-dot w-12 h-12 rounded-full bg-white border-4 border-gray-300 flex items-center justify-center font-bold text-gray-600 hover:border-red-500 focus:outline-none z-10" id="btn-1971">1971</button>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Text Context -->
                <div class="lg:col-span-1 bg-gray-50 p-6 rounded-xl border border-gray-100 flex flex-col justify-center">
                    <h3 class="text-xl font-bold text-gray-800 mb-3" id="timeline-title">50å¹´ä»£ï¼šç¾å›½ä¸»å¯¼çš„å°é”</h3>
                    <p class="text-gray-600 leading-relaxed" id="timeline-desc">
                        åœ¨1950å¹´ä»£ï¼Œç¾å›½æ“çºµè”åˆå›½å¤§ä¼šï¼Œé€šè¿‡"ç¼“è®®"çš„æ–¹å¼ï¼Œä¸ä»…å°†ä¸­åäººæ°‘å…±å’Œå›½æ’æ–¥åœ¨è”åˆå›½ä¹‹å¤–ï¼Œè¿˜å¼ºè¡Œå°†æ‰€è°“çš„"å°æ¹¾ä»£è¡¨æƒ"é—®é¢˜åˆ—ä¸º"é‡è¦é—®é¢˜"ï¼Œéœ€ä¸‰åˆ†ä¹‹äºŒå¤šæ•°æ‰èƒ½é€šè¿‡ã€‚
                    </p>
                    <div class="mt-6 p-4 bg-white rounded shadow-sm">
                        <span class="block text-xs font-semibold text-gray-400 uppercase tracking-wide">å…³é”®ç­–ç•¥</span>
                        <span class="text-sm font-medium text-gray-800" id="timeline-strategy">"æš‚ç¼“è®¨è®º" ææ¡ˆ</span>
                    </div>
                </div>

                <!-- Visualization -->
                <div class="lg:col-span-2">
                    <div class="chart-container bg-white p-4 rounded-xl shadow-sm border border-gray-100">
                        <canvas id="trendChart"></canvas>
                    </div>
                    <p class="text-center text-xs text-gray-400 mt-2">æ”¯æŒç¥¨(çº¢è‰²)ä¸åå¯¹ç¥¨(è“è‰²)çš„å†å²æ¶ˆé•¿</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 2: The 1971 Showdown (Dashboard) -->
    <section id="showdown" class="py-16 bg-[#FDFBF7]">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-900">1971å¹´ï¼šå†³æˆ˜æ—¶åˆ»</h2>
                <p class="mt-4 text-lg text-gray-500 max-w-3xl mx-auto">
                    é˜¿å°”å·´å°¼äºšã€é˜¿å°”åŠåˆ©äºšç­‰23å›½æå‡ºæ¢å¤ä¸­å›½å¸­ä½çš„ææ¡ˆï¼ˆ"é˜¿æ–¹ææ¡ˆ"ï¼‰ã€‚<br>è®©æˆ‘ä»¬æ·±å…¥åˆ†æè¿™å‹å€’æ€§çš„76ç¥¨ä»ä½•è€Œæ¥ã€‚
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Donut Chart: Final Vote -->
                <div class="bg-white p-6 rounded-xl card-shadow">
                    <h3 class="text-lg font-bold text-gray-800 mb-4 text-center">ç¬¬2758å·å†³è®®æœ€ç»ˆæŠ•ç¥¨ç»“æœ</h3>
                    <div class="chart-container" style="height: 300px;">
                        <canvas id="voteDonutChart"></canvas>
                    </div>
                    <div class="mt-4 text-sm text-gray-500 text-center">
                        <p>èµæˆç¥¨å æ€»ç¥¨æ•°çš„ 59.4%</p>
                        <p class="text-xs mt-1">æ³¨ï¼šç”±äº"é‡è¦é—®é¢˜"ææ¡ˆè¢«å¦å†³ï¼Œæ­¤ææ¡ˆä»…éœ€ç®€å•å¤šæ•°å³å¯é€šè¿‡ã€‚</p>
                    </div>
                </div>

                <!-- Bar Chart: Regional Support -->
                <div class="bg-white p-6 rounded-xl card-shadow">
                    <h3 class="text-lg font-bold text-gray-800 mb-4 text-center">èµæˆç¥¨çš„å„å¤§æ´²åˆ†å¸ƒ</h3>
                    <div class="chart-container" style="height: 300px;">
                        <canvas id="regionBarChart"></canvas>
                    </div>
                    <div class="mt-4 text-sm text-gray-500 text-center">
                        <p>éæ´²å›½å®¶æŠ•å‡ºäº†26å¼ èµæˆç¥¨ï¼Œæ˜¯æœ€å¤§çš„æ”¯æŒç¾¤ä½“ã€‚</p>
                        <p class="text-xs italic mt-1">"æ˜¯éæ´²å…„å¼ŸæŠŠæˆ‘ä»¬è¦è¿›å»çš„ã€‚" â€”â€” æ¯›æ³½ä¸œ</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 3: Global Stance Explorer -->
    <section id="stances" class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="mb-10 flex flex-col md:flex-row md:items-end justify-between">
                <div>
                    <h2 class="text-3xl font-bold text-gray-900">å„å›½ç«™é˜Ÿä¸å¿ƒæ€</h2>
                    <p class="mt-2 text-gray-500">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ç­›é€‰å›½å®¶ï¼ŒæŸ¥çœ‹å½“æ—¶é”™ç»¼å¤æ‚çš„å›½é™…å…³ç³»ã€‚</p>
                </div>
                
                <!-- Filters -->
                <div class="mt-4 md:mt-0 flex space-x-2">
                    <button onclick="filterStance('all')" class="px-4 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium text-sm transition focus:ring-2 focus:ring-gray-300">å…¨éƒ¨</button>
                    <button onclick="filterStance('for')" class="px-4 py-2 rounded-lg bg-green-100 hover:bg-green-200 text-green-800 font-medium text-sm transition focus:ring-2 focus:ring-green-300">èµæˆ (76)</button>
                    <button onclick="filterStance('against')" class="px-4 py-2 rounded-lg bg-red-100 hover:bg-red-200 text-red-800 font-medium text-sm transition focus:ring-2 focus:ring-red-300">åå¯¹ (35)</button>
                    <button onclick="filterStance('abstain')" class="px-4 py-2 rounded-lg bg-yellow-100 hover:bg-yellow-200 text-yellow-800 font-medium text-sm transition focus:ring-2 focus:ring-yellow-300">å¼ƒæƒ (17)</button>
                </div>
            </div>

            <!-- Detail Grid -->
            <div id="countries-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                <!-- Content injected by JS -->
            </div>
            
            <div class="mt-8 p-4 bg-blue-50 border border-blue-100 rounded-lg">
                <h4 class="font-bold text-blue-900 mb-2">ğŸ’¡ å…³é”®è§‚å¯Ÿ</h4>
                <ul class="list-disc list-inside text-sm text-blue-800 space-y-1">
                    <li><strong>æ¬§æ´²å€’æˆˆï¼š</strong> è‹±ã€æ³•ã€æ„ç­‰è¥¿æ–¹ä¸»è¦å›½å®¶å‡æŠ•äº†èµæˆç¥¨ï¼Œæ˜¾ç¤ºç¾å›½å¯¹ç›Ÿå‹æ§åˆ¶åŠ›ä¸‹é™ã€‚</li>
                    <li><strong>ç¾å›½çš„ä¸¤éš¾ï¼š</strong> å°½ç®¡å°¼å…‹æ¾å·²å¼€å§‹ä¸ä¸­å›½æ¥è§¦ï¼ˆåŸºè¾›æ ¼è®¿åï¼‰ï¼Œä½†ç¾å›½ä»è¯•å›¾ä¿ç•™å°æ¹¾å¸­ä½ï¼ˆ"åŒé‡ä»£è¡¨æƒ"ï¼‰ï¼Œè¿™ç§è‡ªç›¸çŸ›ç›¾çš„æ”¿ç­–æœ€ç»ˆå¤±è´¥ã€‚</li>
                    <li><strong>äºšéæ‹‰çš„åŠ›é‡ï¼š</strong> ç¬¬ä¸‰ä¸–ç•Œå›½å®¶çš„å´›èµ·å½»åº•æ”¹å˜äº†è”åˆå›½çš„åŠ›é‡å¯¹æ¯”ã€‚</li>
                </ul>
            </div>
        </div>
    </section>
    
    <!-- Comparison Section -->
    <section class="py-16 bg-gray-50 border-t border-gray-200">
        <div class="max-w-5xl mx-auto px-4">
            <h2 class="text-2xl font-bold text-center text-gray-900 mb-8">ä¸¤ç§ææ¡ˆçš„åšå¼ˆ</h2>
            <div class="grid md:grid-cols-2 gap-8">
                <!-- US Strategy -->
                <div class="bg-white p-6 rounded-lg shadow-sm border-t-4 border-blue-800">
                    <h3 class="text-xl font-bold text-blue-900 mb-2">ç¾æ—¥é˜µè¥ï¼š"é€†é‡è¦é—®é¢˜"æ¡ˆ</h3>
                    <p class="text-sm text-gray-500 mb-4">è¯•å›¾æé«˜é©±é€å°æ¹¾çš„é—¨æ§›</p>
                    <ul class="space-y-3 text-gray-700">
                        <li class="flex items-start">
                            <span class="text-blue-500 mr-2">â—</span>
                            <span><strong>æ ¸å¿ƒé€»è¾‘ï¼š</strong> å£°ç§°å‰¥å¤ºä¸­åæ°‘å›½å¸­ä½å±äº"é‡è¦é—®é¢˜"ï¼Œéœ€2/3å¤šæ•°é€šè¿‡ã€‚</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-blue-500 mr-2">â—</span>
                            <span><strong>ç›®çš„ï¼š</strong> åˆ¶é€ "ä¸¤ä¸ªä¸­å›½"æˆ–"ä¸€ä¸­ä¸€å°"ï¼Œä¿ä½å°æ¹¾åœ¨è”åˆå›½çš„å¸­ä½ã€‚</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-blue-500 mr-2">â—</span>
                            <span><strong>ç»“æœï¼š</strong> ä»¥55ç¥¨èµæˆã€59ç¥¨åå¯¹ã€15ç¥¨å¼ƒæƒè¢«å¦å†³ã€‚è¿™æ˜¯ç¾å›½å¤–äº¤çš„é‡å¤§å¤±è´¥ã€‚</span>
                        </li>
                    </ul>
                </div>

                <!-- PRC/Albania Strategy -->
                <div class="bg-white p-6 rounded-lg shadow-sm border-t-4 border-red-600">
                    <h3 class="text-xl font-bold text-red-700 mb-2">é˜¿æ–¹ææ¡ˆï¼š2758å·å†³è®®</h3>
                    <p class="text-sm text-gray-500 mb-4">æ¢å¤åˆæ³•æƒåˆ©ï¼Œé©±é€è’‹ä»‹çŸ³ä»£è¡¨</p>
                    <ul class="space-y-3 text-gray-700">
                        <li class="flex items-start">
                            <span class="text-red-500 mr-2">â—</span>
                            <span><strong>æ ¸å¿ƒé€»è¾‘ï¼š</strong> æ‰¿è®¤ä¸­åäººæ°‘å…±å’Œå›½æ”¿åºœçš„ä»£è¡¨æ˜¯ä¸­å›½åœ¨è”åˆå›½ç»„ç»‡çš„å”¯ä¸€åˆæ³•ä»£è¡¨ã€‚</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-red-500 mr-2">â—</span>
                            <span><strong>è¦æ±‚ï¼š</strong> ç«‹å³æŠŠè’‹ä»‹çŸ³çš„ä»£è¡¨ä»è”åˆå›½ç»„ç»‡åŠå…¶æ‰€å±ä¸€åˆ‡æœºæ„ä¸­éæ³•å æ®çš„å¸­ä½ä¸Šé©±é€å‡ºå»ã€‚</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-red-500 mr-2">â—</span>
                            <span><strong>ç»“æœï¼š</strong> 76ç¥¨èµæˆé€šè¿‡ã€‚ç°åœºæŒå£°é›·åŠ¨ï¼Œå¦æ¡‘å°¼äºšä»£è¡¨ç”šè‡³åœ¨ä¼šåœºè·³èµ·èˆæ¥ã€‚</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="text-gray-400 text-sm">Interactive Analysis generated for Educational Purposes.</p>
            <p class="text-gray-500 text-xs mt-2">Source: Historical Records of the 26th UN General Assembly</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- State Management ---
        const state = {
            currentTimelineIndex: 0,
            activeFilter: 'all'
        };

        // --- Data: Timeline ---
        const timelineData = [
            {
                year: '1950s',
                title: '50å¹´ä»£ï¼šç¾å›½ä¸»å¯¼çš„å°é”',
                desc: 'åœ¨1950å¹´ä»£ï¼Œç¾å›½æ“çºµè”åˆå›½å¤§ä¼šï¼Œåˆ©ç”¨å…¶åºå¤§çš„ç›Ÿå‹ä½“ç³»ï¼Œé€šè¿‡"ç¼“è®®"ææ¡ˆçš„æ–¹å¼ï¼Œå°†ä¸­å›½ä»£è¡¨æƒé—®é¢˜æ— é™æœŸæç½®ã€‚æ­¤æ—¶æ”¯æŒä¸­å›½çš„å£°éŸ³ä¸»è¦æ¥è‡ªç¤¾ä¼šä¸»ä¹‰é˜µè¥ã€‚',
                strategy: 'â€œæš‚ç¼“è®¨è®ºâ€ç­–ç•¥',
                stats: { yes: 10, no: 40 } // Approximation for visualization
            },
            {
                year: '1960s',
                title: '60å¹´ä»£ï¼šä»ç¼“è®®åˆ°â€œé‡è¦é—®é¢˜â€',
                desc: 'éšç€æ–°ç‹¬ç«‹å›½å®¶åŠ å…¥è”åˆå›½ï¼Œ"ç¼“è®®"è¶Šæ¥è¶Šéš¾é€šè¿‡ã€‚1961å¹´èµ·ï¼Œç¾å›½æ”¹ç”¨"é‡è¦é—®é¢˜"ææ¡ˆï¼ˆéœ€2/3å¤šæ•°ï¼‰æ¥é˜»æŒ ã€‚è™½ç„¶æ”¯æŒä¸­å›½çš„ç¥¨æ•°é€å¹´å¢åŠ ï¼Œä½†ä»æœªèƒ½åœ¨ç¥¨æ•°ä¸Šå½¢æˆç»å¯¹ä¼˜åŠ¿ã€‚',
                strategy: 'â€œé‡è¦é—®é¢˜â€ææ¡ˆ (éœ€2/3å¤šæ•°)',
                stats: { yes: 30, no: 45 }
            },
            {
                year: '1970',
                title: '1970å¹´ï¼šè½¬æŠ˜ç‚¹å‡ºç°',
                desc: '1970å¹´è”å¤§è¡¨å†³ä¸­ï¼Œèµæˆæ¢å¤ä¸­å›½å¸­ä½çš„ç¥¨æ•°ï¼ˆ51ç¥¨ï¼‰é¦–æ¬¡è¶…è¿‡åå¯¹ç¥¨ï¼ˆ49ç¥¨ï¼‰ã€‚è™½ç„¶æœªè¾¾åˆ°2/3å¤šæ•°ï¼Œä½†è¿™æ ‡å¿—ç€äººå¿ƒå‘èƒŒçš„æ ¹æœ¬æ€§è½¬å˜ï¼Œç¾å›½é˜²çº¿å¼€å§‹å´©æºƒã€‚',
                strategy: 'èµæˆç¥¨é¦–æ¬¡è¶…è¿‡åå¯¹ç¥¨',
                stats: { yes: 51, no: 49 }
            },
            {
                year: '1971',
                title: '1971å¹´ï¼šå†å²æ€§çš„èƒœåˆ©',
                desc: '1971å¹´ï¼ŒåŸºè¾›æ ¼è®¿åï¼Œç¾å›½å¯¹åæ”¿ç­–æ¾åŠ¨ï¼Œå¯¼è‡´ç›Ÿå‹ç«‹åœºåŠ¨æ‘‡ã€‚åœ¨ç¬¬26å±Šè”å¤§ä¸Šï¼Œé¦–å…ˆå¦å†³äº†ç¾æ—¥çš„"é€†é‡è¦é—®é¢˜"æ¡ˆï¼Œéšåä»¥å‹å€’æ€§ä¼˜åŠ¿é€šè¿‡äº†æ¢å¤ä¸­å›½å¸­ä½çš„å†³è®®ã€‚',
                strategy: 'ç¬¬2758å·å†³è®®é€šè¿‡',
                stats: { yes: 76, no: 35 }
            }
        ];

        // --- Data: 1971 Votes (Sample for Country Grid) ---
        const countryVotes = [
            { name: "é˜¿å°”å·´å°¼äºš", vote: "for", region: "Europe", note: "ææ¡ˆå›½" },
            { name: "é˜¿å°”åŠåˆ©äºš", vote: "for", region: "Africa", note: "ææ¡ˆå›½" },
            { name: "å¦æ¡‘å°¼äºš", vote: "for", region: "Africa", note: "ä»£è¡¨å½“åœºèµ·èˆåº†ç¥" },
            { name: "å·´åŸºæ–¯å¦", vote: "for", region: "Asia", note: "åšå®šçš„æ”¯æŒè€…" },
            { name: "è‹è”", vote: "for", region: "Europe", note: "è™½ç„¶ä¸­è‹äº¤æ¶ï¼Œä½†ä»æŠ•èµæˆ" },
            { name: "è‹±å›½", vote: "for", region: "Europe", note: "è¥¿æ–¹å¤§å›½å€’æˆˆ" },
            { name: "æ³•å›½", vote: "for", region: "Europe", note: "è¾ƒæ—©å»ºäº¤çš„è¥¿æ–¹å›½å®¶" },
            { name: "æ„å¤§åˆ©", vote: "for", region: "Europe", note: "åŒ—çº¦æˆå‘˜å›½" },
            { name: "åŠ æ‹¿å¤§", vote: "for", region: "Americas", note: "åŒ—ç¾é‡è¦å›½å®¶" },
            { name: "å°åº¦", vote: "for", region: "Asia", note: "" },
            { name: "ç¾å›½", vote: "against", region: "Americas", note: "è¯•å›¾ä¿ç•™å°æ¹¾å¸­ä½å¤±è´¥" },
            { name: "æ—¥æœ¬", vote: "against", region: "Asia", note: "ç´§éšç¾å›½æ”¿ç­–" },
            { name: "æ¾³å¤§åˆ©äºš", vote: "against", region: "Oceania", note: "" },
            { name: "æ²™ç‰¹é˜¿æ‹‰ä¼¯", vote: "against", region: "Asia", note: "" },
            { name: "å—é", vote: "against", region: "Africa", note: "å½“æ—¶ä¸ºç§æ—éš”ç¦»æ”¿æƒ" },
            { name: "è¥¿ç­ç‰™", vote: "abstain", region: "Europe", note: "" },
            { name: "å¸Œè…Š", vote: "abstain", region: "Europe", note: "" },
            { name: "æ³°å›½", vote: "abstain", region: "Asia", note: "" },
            { name: "é˜¿æ ¹å»·", vote: "abstain", region: "Americas", note: "" }
        ];

        // More dummy data to fill the grid visually for impact
        const extraCountries = [
            { name: "èµæ¯”äºš", vote: "for" }, { name: "ç‘å…¸", vote: "for" }, { name: "æŒªå¨", vote: "for" },
            { name: "å°¼æ—¥åˆ©äºš", vote: "for" }, { name: "å¤å·´", vote: "for" }, { name: "æ™ºåˆ©", vote: "for" },
            { name: "å·´è¥¿", vote: "against" }, { name: "ç»åˆ©ç»´äºš", vote: "against" }, 
            { name: "å“¥ä¼¦æ¯”äºš", vote: "abstain" }, { name: "å°åº¦å°¼è¥¿äºš", vote: "abstain" }
        ];
        
        const allCountries = [...countryVotes, ...extraCountries];

        // --- Chart Objects ---
        let trendChart = null;
        let voteDonutChart = null;
        let regionBarChart = null;

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            initTrendChart();
            initVoteDonutChart();
            initRegionBarChart();
            renderCountryGrid();
        });

        // --- Functions: Navigation ---
        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
        }

        // --- Functions: Timeline ---
        function updateTimeline(index) {
            state.currentTimelineIndex = index;
            const data = timelineData[index];

            // Update Text
            document.getElementById('timeline-title').innerText = data.title;
            document.getElementById('timeline-desc').innerText = data.desc;
            document.getElementById('timeline-strategy').innerText = data.strategy;

            // Update Buttons
            const buttons = document.querySelectorAll('.timeline-dot');
            buttons.forEach((btn, idx) => {
                if (idx === index) {
                    btn.classList.add('active', 'border-red-500', 'bg-red-50');
                    btn.classList.remove('border-gray-300');
                } else {
                    btn.classList.remove('active', 'border-red-500', 'bg-red-50');
                    btn.classList.add('border-gray-300');
                }
            });

            // Update Chart Highlight
            updateTrendChartHighlight(index);
        }

        // --- Functions: Charts ---
        function initTrendChart() {
            const ctx = document.getElementById('trendChart').getContext('2d');
            
            // Historical data (approximate for trend)
            const years = ['1950', '1955', '1960', '1965', '1970', '1971'];
            const yesVotes = [10, 24, 34, 47, 51, 76];
            const noVotes = [38, 42, 42, 47, 49, 35];
            const abstainVotes = [8, 6, 22, 20, 25, 17];

            trendChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: years,
                    datasets: [
                        {
                            label: 'èµæˆ (Yes)',
                            data: yesVotes,
                            borderColor: '#C8102E',
                            backgroundColor: '#C8102E',
                            borderWidth: 3,
                            tension: 0.3
                        },
                        {
                            label: 'åå¯¹ (No)',
                            data: noVotes,
                            borderColor: '#2C3E50',
                            backgroundColor: '#2C3E50',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            tension: 0.3
                        },
                        {
                            label: 'å¼ƒæƒ (Abstain)',
                            data: abstainVotes,
                            borderColor: '#D4AF37',
                            backgroundColor: '#D4AF37',
                            borderWidth: 1,
                            tension: 0.3
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'top' },
                        tooltip: { mode: 'index', intersect: false }
                    },
                    scales: {
                        y: { beginAtZero: true, title: { display: true, text: 'ç¥¨æ•°' } }
                    }
                }
            });
        }

        function updateTrendChartHighlight(index) {
            // Simple visual feedback on chart could be implemented here
            // For now, the text update is the primary driver
            const dataset = trendChart.data.datasets[0];
            // Highlight the specific point corresponding to the timeline
            // Mapping timeline index 0->1950s(0), 1->1960s(2), 2->1970(4), 3->1971(5)
            const map = [0, 2, 4, 5];
            // Advanced: Could add an annotation line or change point radius dynamically
        }

        function initVoteDonutChart() {
            const ctx = document.getElementById('voteDonutChart').getContext('2d');
            voteDonutChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['èµæˆ (For)', 'åå¯¹ (Against)', 'å¼ƒæƒ (Abstain)'],
                    datasets: [{
                        data: [76, 35, 17],
                        backgroundColor: ['#16a34a', '#dc2626', '#ca8a04'], // Tailwind green-600, red-600, yellow-600
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom' }
                    }
                }
            });
        }

        function initRegionBarChart() {
            const ctx = document.getElementById('regionBarChart').getContext('2d');
            // Approx breakdown of the 76 YES votes
            const regions = ['éæ´²', 'æ¬§æ´²', 'äºšæ´²', 'ç¾æ´²', 'å¤§æ´‹æ´²'];
            const votes = [26, 23, 19, 8, 0]; // Rough breakdown for illustration

            regionBarChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: regions,
                    datasets: [{
                        label: 'èµæˆç¥¨æ¥æº',
                        data: votes,
                        backgroundColor: '#C8102E',
                        borderRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        y: { beginAtZero: true }
                    }
                }
            });
        }

        // --- Functions: Country Grid ---
        function filterStance(stance) {
            state.activeFilter = stance;
            renderCountryGrid();
        }

        function renderCountryGrid() {
            const container = document.getElementById('countries-grid');
            container.innerHTML = '';
            
            const filtered = state.activeFilter === 'all' 
                ? allCountries 
                : allCountries.filter(c => c.vote === state.activeFilter);

            if (filtered.length === 0) {
                container.innerHTML = '<p class="col-span-3 text-center text-gray-500 py-4">æ— æ•°æ®</p>';
                return;
            }

            filtered.forEach(country => {
                const el = document.createElement('div');
                
                // Color coding
                let borderColor = 'border-gray-200';
                let badgeColor = 'bg-gray-100 text-gray-800';
                let badgeText = 'æœªçŸ¥';
                
                if (country.vote === 'for') {
                    borderColor = 'border-green-200 hover:border-green-400';
                    badgeColor = 'bg-green-100 text-green-800';
                    badgeText = 'èµæˆ';
                } else if (country.vote === 'against') {
                    borderColor = 'border-red-200 hover:border-red-400';
                    badgeColor = 'bg-red-100 text-red-800';
                    badgeText = 'åå¯¹';
                } else {
                    borderColor = 'border-yellow-200 hover:border-yellow-400';
                    badgeColor = 'bg-yellow-100 text-yellow-800';
                    badgeText = 'å¼ƒæƒ';
                }

                el.className = `p-4 bg-white border ${borderColor} rounded-lg shadow-sm transition-all flex flex-col justify-between`;
                
                const noteHtml = country.note ? `<p class="text-xs text-gray-500 mt-2 border-t pt-2 border-dashed border-gray-100">"${country.note}"</p>` : '';

                el.innerHTML = `
                    <div class="flex justify-between items-start mb-1">
                        <span class="font-bold text-gray-800">${country.name}</span>
                        <span class="px-2 py-0.5 rounded text-xs font-medium ${badgeColor}">${badgeText}</span>
                    </div>
                    ${noteHtml}
                `;
                container.appendChild(el);
            });
        }

    </script>
</body>
</html>
